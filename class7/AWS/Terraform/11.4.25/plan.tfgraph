{"format_version":"1.2","terraform_version":"1.13.4","planned_values":{"outputs":{"ip_address":{"sensitive":false},"website_url":{"sensitive":false,"type":"string","value":"http://$aws_instance.web_server.public_dns"}},"root_module":{"resources":[{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","region":"us-west-2","tags":{"Name":"terraform-eip-for-nat"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-eip-for-nat"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-06d455b8b50b0de4d","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"instance_type":"t3.micro","launch_template":[],"region":"us-west-2","source_dest_check":true,"tags":{"Name":"web-server-instance"},"tags_all":{"ManagedBy":"Terraform","Name":"web-server-instance"},"timeouts":null,"user_data":"#!/bin/bash\n# Use this for your user data (script from top to bottom)\n# install httpd (Linux 2 version)\nyum update -y\nyum install -y httpd\nsystemctl start httpd\nsystemctl enable httpd\n\n# Get the IMDSv2 token\nTOKEN=$(curl -X PUT \"http://169.254.169.254/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\n\n# Background the curl requests\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/local-ipv4 \u0026\u003e /tmp/local_ipv4 \u0026\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/placement/availability-zone \u0026\u003e /tmp/az \u0026\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/network/interfaces/macs/ \u0026\u003e /tmp/macid \u0026\nwait\n\nmacid=$(cat /tmp/macid)\nlocal_ipv4=$(cat /tmp/local_ipv4)\naz=$(cat /tmp/az)\nvpc=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/network/interfaces/macs/${macid}/vpc-id)\n\n# Get hostname\nhostname_value=$(hostname -f)\n\ncat \u003e /var/www/html/index.html \u003c\u003c EOF\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003ctitle\u003eI love Lizzo\u003c/title\u003e\n    \u003cstyle\u003e\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            background: #1a1a1a;\n            min-height: 100vh;\n            padding: 40px 20px;\n        }\n        \n        .container {\n            max-width: 1000px;\n            margin: 0 auto;\n            background: #ffffff;\n            border-radius: 16px;\n            padding: 40px;\n            box-shadow: 0 20px 60px rgba(0,0,0,0.5);\n        }\n        \n        h1 {\n            color: #000000;\n            font-size: 3rem;\n            margin-bottom: 10px;\n            text-align: center;\n            font-weight: 700;\n        }\n        \n        h2 {\n            color: #666666;\n            font-size: 1.5rem;\n            margin-bottom: 40px;\n            text-align: center;\n            font-weight: 500;\n        }\n        \n        .hero-image {\n            width: 100%;\n            max-width: 800px;\n            margin: 0 auto 40px;\n            display: block;\n            border-radius: 12px;\n            border: 3px solid #000000;\n            box-shadow: 0 8px 24px rgba(0,0,0,0.3);\n        }\n        \n        .details {\n            background: #f5f5f5;\n            border: 2px solid #333333;\n            border-radius: 12px;\n            padding: 30px;\n            margin-top: 40px;\n        }\n        \n        .details h3 {\n            color: #000000;\n            font-size: 1.5rem;\n            margin-bottom: 20px;\n            border-bottom: 3px solid #333333;\n            padding-bottom: 10px;\n            font-weight: 600;\n        }\n        \n        .detail-item {\n            display: flex;\n            padding: 15px 0;\n            border-bottom: 1px solid #cccccc;\n        }\n        \n        .detail-item:last-child {\n            border-bottom: none;\n        }\n        \n        .detail-label {\n            font-weight: 600;\n            color: #000000;\n            min-width: 200px;\n            font-size: 1rem;\n        }\n        \n        .detail-value {\n            color: #1a1a1a;\n            font-family: 'Courier New', monospace;\n            background: white;\n            padding: 6px 14px;\n            border-radius: 6px;\n            border: 2px solid #333333;\n            font-size: 0.95rem;\n        }\n    \u003c/style\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003cdiv class=\"container\"\u003e\n        \u003ch1\u003eCloud Row - Can't stop, won't stop\u003c/h1\u003e\n        \u003ch2\u003eAWS Instance Metadata\u003c/h2\u003e\n        \n        \u003cimg src=\"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWo5ZWNuZWZuc3U1a3E2MWI5Y3Q1NDYxcmlsMHJ6bGF0ODZvOGRkNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xfR4J1y61nDnW/giphy.gif\"\u003e\n        \n        \u003cdiv class=\"details\"\u003e\n            \u003ch3\u003eInstance Information\u003c/h3\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eInstance Name:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${hostname_value}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003ePrivate IP Address:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${local_ipv4}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eAvailability Zone:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${az}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eVPC ID:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${vpc}\u003c/span\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\nEOF\n\n# Clean up the temp files\nrm -f /tmp/local_ipv4 /tmp/az /tmp/macid","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"primary_network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_internet_gateway.main","mode":"managed","type":"aws_internet_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-west-2","tags":{"Name":"terraform-igw"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-igw"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_nat_gateway.main","mode":"managed","type":"aws_nat_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","region":"us-west-2","tags":{"Name":"terraform-nat-gw"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-nat-gw"},"timeouts":null},"sensitive_values":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-west-2","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"terraform-private-rtb"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-private-rtb"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-west-2","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"terraform-public-rtb"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-public-rtb"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_route_table_association.private_a","mode":"managed","type":"aws_route_table_association","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.private_b","mode":"managed","type":"aws_route_table_association","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.private_c","mode":"managed","type":"aws_route_table_association","name":"private_c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.public_a","mode":"managed","type":"aws_route_table_association","name":"public_a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.public_b","mode":"managed","type":"aws_route_table_association","name":"public_b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.public_c","mode":"managed","type":"aws_route_table_association","name":"public_c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-west-2","timeouts":null},"sensitive_values":{}},{"address":"aws_security_group.ping","mode":"managed","type":"aws_security_group","name":"ping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow icmp for ping","name":"ping","region":"us-west-2","revoke_rules_on_delete":false,"tags":null,"tags_all":{"ManagedBy":"Terraform"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_security_group.web_server","mode":"managed","type":"aws_security_group","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow HTTP and SSH for web_server","name":"web-server-sg","region":"us-west-2","revoke_rules_on_delete":false,"tags":null,"tags_all":{"ManagedBy":"Terraform"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_security_group_rule.egress-all","mode":"managed","type":"aws_security_group_rule","name":"egress-all","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-west-2","self":false,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.http","mode":"managed","type":"aws_security_group_rule","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-west-2","self":false,"timeouts":null,"to_port":80,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.ping","mode":"managed","type":"aws_security_group_rule","name":"ping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":8,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"icmp","region":"us-west-2","self":false,"timeouts":null,"to_port":0,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.ping_egress","mode":"managed","type":"aws_security_group_rule","name":"ping_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":-1,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"icmp","region":"us-west-2","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.ssh","mode":"managed","type":"aws_security_group_rule","name":"ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-west-2","self":false,"timeouts":null,"to_port":22,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"10.10.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2a"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2a"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2b","cidr_block":"10.10.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2b"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2b"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.private_c","mode":"managed","type":"aws_subnet","name":"private_c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2c","cidr_block":"10.10.13.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2c"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2c"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.public_a","mode":"managed","type":"aws_subnet","name":"public_a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"10.10.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2a"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2a"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.public_b","mode":"managed","type":"aws_subnet","name":"public_b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2b","cidr_block":"10.10.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2b"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2b"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.public_c","mode":"managed","type":"aws_subnet","name":"public_c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2c","cidr_block":"10.10.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2c"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2c"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.10.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-west-2","tags":{"Name":"terraform-vpc"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-vpc"}},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}}]}},"resource_changes":[{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","region":"us-west-2","tags":{"Name":"terraform-eip-for-nat"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-eip-for-nat"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"ipam_pool_id":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06d455b8b50b0de4d","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"instance_type":"t3.micro","launch_template":[],"region":"us-west-2","source_dest_check":true,"tags":{"Name":"web-server-instance"},"tags_all":{"ManagedBy":"Terraform","Name":"web-server-instance"},"timeouts":null,"user_data":"#!/bin/bash\n# Use this for your user data (script from top to bottom)\n# install httpd (Linux 2 version)\nyum update -y\nyum install -y httpd\nsystemctl start httpd\nsystemctl enable httpd\n\n# Get the IMDSv2 token\nTOKEN=$(curl -X PUT \"http://169.254.169.254/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\n\n# Background the curl requests\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/local-ipv4 \u0026\u003e /tmp/local_ipv4 \u0026\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/placement/availability-zone \u0026\u003e /tmp/az \u0026\ncurl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/network/interfaces/macs/ \u0026\u003e /tmp/macid \u0026\nwait\n\nmacid=$(cat /tmp/macid)\nlocal_ipv4=$(cat /tmp/local_ipv4)\naz=$(cat /tmp/az)\nvpc=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" -s http://169.254.169.254/latest/meta-data/network/interfaces/macs/${macid}/vpc-id)\n\n# Get hostname\nhostname_value=$(hostname -f)\n\ncat \u003e /var/www/html/index.html \u003c\u003c EOF\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003ctitle\u003eI love Lizzo\u003c/title\u003e\n    \u003cstyle\u003e\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            background: #1a1a1a;\n            min-height: 100vh;\n            padding: 40px 20px;\n        }\n        \n        .container {\n            max-width: 1000px;\n            margin: 0 auto;\n            background: #ffffff;\n            border-radius: 16px;\n            padding: 40px;\n            box-shadow: 0 20px 60px rgba(0,0,0,0.5);\n        }\n        \n        h1 {\n            color: #000000;\n            font-size: 3rem;\n            margin-bottom: 10px;\n            text-align: center;\n            font-weight: 700;\n        }\n        \n        h2 {\n            color: #666666;\n            font-size: 1.5rem;\n            margin-bottom: 40px;\n            text-align: center;\n            font-weight: 500;\n        }\n        \n        .hero-image {\n            width: 100%;\n            max-width: 800px;\n            margin: 0 auto 40px;\n            display: block;\n            border-radius: 12px;\n            border: 3px solid #000000;\n            box-shadow: 0 8px 24px rgba(0,0,0,0.3);\n        }\n        \n        .details {\n            background: #f5f5f5;\n            border: 2px solid #333333;\n            border-radius: 12px;\n            padding: 30px;\n            margin-top: 40px;\n        }\n        \n        .details h3 {\n            color: #000000;\n            font-size: 1.5rem;\n            margin-bottom: 20px;\n            border-bottom: 3px solid #333333;\n            padding-bottom: 10px;\n            font-weight: 600;\n        }\n        \n        .detail-item {\n            display: flex;\n            padding: 15px 0;\n            border-bottom: 1px solid #cccccc;\n        }\n        \n        .detail-item:last-child {\n            border-bottom: none;\n        }\n        \n        .detail-label {\n            font-weight: 600;\n            color: #000000;\n            min-width: 200px;\n            font-size: 1rem;\n        }\n        \n        .detail-value {\n            color: #1a1a1a;\n            font-family: 'Courier New', monospace;\n            background: white;\n            padding: 6px 14px;\n            border-radius: 6px;\n            border: 2px solid #333333;\n            font-size: 0.95rem;\n        }\n    \u003c/style\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003cdiv class=\"container\"\u003e\n        \u003ch1\u003eCloud Row - Can't stop, won't stop\u003c/h1\u003e\n        \u003ch2\u003eAWS Instance Metadata\u003c/h2\u003e\n        \n        \u003cimg src=\"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWo5ZWNuZWZuc3U1a3E2MWI5Y3Q1NDYxcmlsMHJ6bGF0ODZvOGRkNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xfR4J1y61nDnW/giphy.gif\"\u003e\n        \n        \u003cdiv class=\"details\"\u003e\n            \u003ch3\u003eInstance Information\u003c/h3\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eInstance Name:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${hostname_value}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003ePrivate IP Address:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${local_ipv4}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eAvailability Zone:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${az}\u003c/span\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"detail-item\"\u003e\n                \u003cspan class=\"detail-label\"\u003eVPC ID:\u003c/span\u003e\n                \u003cspan class=\"detail-value\"\u003e${vpc}\u003c/span\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\nEOF\n\n# Clean up the temp files\nrm -f /tmp/local_ipv4 /tmp/az /tmp/macid","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_options":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"key_name":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_group_id":true,"placement_partition_number":true,"primary_network_interface":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"primary_network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_internet_gateway.main","mode":"managed","type":"aws_internet_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-west-2","tags":{"Name":"terraform-igw"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-igw"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_nat_gateway.main","mode":"managed","type":"aws_nat_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","region":"us-west-2","tags":{"Name":"terraform-nat-gw"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-nat-gw"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_allocation_ids":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-west-2","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"terraform-private-rtb"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-private-rtb"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-west-2","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"terraform-public-rtb"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-public-rtb"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_route_table_association.private_a","mode":"managed","type":"aws_route_table_association","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.private_b","mode":"managed","type":"aws_route_table_association","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.private_c","mode":"managed","type":"aws_route_table_association","name":"private_c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public_a","mode":"managed","type":"aws_route_table_association","name":"public_a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public_b","mode":"managed","type":"aws_route_table_association","name":"public_b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public_c","mode":"managed","type":"aws_route_table_association","name":"public_c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-west-2","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group.ping","mode":"managed","type":"aws_security_group","name":"ping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow icmp for ping","name":"ping","region":"us-west-2","revoke_rules_on_delete":false,"tags":null,"tags_all":{"ManagedBy":"Terraform"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_security_group.web_server","mode":"managed","type":"aws_security_group","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow HTTP and SSH for web_server","name":"web-server-sg","region":"us-west-2","revoke_rules_on_delete":false,"tags":null,"tags_all":{"ManagedBy":"Terraform"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_security_group_rule.egress-all","mode":"managed","type":"aws_security_group_rule","name":"egress-all","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-west-2","self":false,"timeouts":null,"to_port":0,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.http","mode":"managed","type":"aws_security_group_rule","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-west-2","self":false,"timeouts":null,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.ping","mode":"managed","type":"aws_security_group_rule","name":"ping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":8,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"icmp","region":"us-west-2","self":false,"timeouts":null,"to_port":0,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.ping_egress","mode":"managed","type":"aws_security_group_rule","name":"ping_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":-1,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"icmp","region":"us-west-2","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.ssh","mode":"managed","type":"aws_security_group_rule","name":"ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-west-2","self":false,"timeouts":null,"to_port":22,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"10.10.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2a"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2b","cidr_block":"10.10.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2b"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.private_c","mode":"managed","type":"aws_subnet","name":"private_c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2c","cidr_block":"10.10.13.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"private-subnet-us-west-2c"},"tags_all":{"ManagedBy":"Terraform","Name":"private-subnet-us-west-2c"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.public_a","mode":"managed","type":"aws_subnet","name":"public_a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"10.10.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2a"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.public_b","mode":"managed","type":"aws_subnet","name":"public_b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2b","cidr_block":"10.10.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2b"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.public_c","mode":"managed","type":"aws_subnet","name":"public_c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2c","cidr_block":"10.10.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-west-2","tags":{"Name":"public-subnet-us-west-2c"},"tags_all":{"ManagedBy":"Terraform","Name":"public-subnet-us-west-2c"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.10.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-west-2","tags":{"Name":"terraform-vpc"},"tags_all":{"ManagedBy":"Terraform","Name":"terraform-vpc"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}}],"output_changes":{"ip_address":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"website_url":{"actions":["create"],"before":null,"after":"http://$aws_instance.web_server.public_dns","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.4","values":{"outputs":{"website_url":{"sensitive":false,"value":"http://$aws_instance.web_server.public_dns","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"6.18.0","expressions":{"default_tags":[{"tags":{"constant_value":{"ManagedBy":"Terraform"}}}],"region":{"constant_value":"us-west-2"}}}},"root_module":{"outputs":{"ip_address":{"expression":{"references":["aws_instance.web_server.public_ip","aws_instance.web_server"]}},"website_url":{"expression":{"constant_value":"http://$aws_instance.web_server.public_dns"}}},"resources":[{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"tags":{"constant_value":{"Name":"terraform-eip-for-nat"}}},"schema_version":0,"depends_on":["aws_internet_gateway.main"]},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-06d455b8b50b0de4d"},"associate_public_ip_address":{"constant_value":true},"instance_type":{"constant_value":"t3.micro"},"subnet_id":{"references":["aws_subnet.public_a.id","aws_subnet.public_a"]},"tags":{"constant_value":{"Name":"web-server-instance"}},"user_data":{},"vpc_security_group_ids":{"references":["aws_security_group.ping.id","aws_security_group.ping","aws_security_group.web_server.id","aws_security_group.web_server"]}},"schema_version":2},{"address":"aws_internet_gateway.main","mode":"managed","type":"aws_internet_gateway","name":"main","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"terraform-igw"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_nat_gateway.main","mode":"managed","type":"aws_nat_gateway","name":"main","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.nat.id","aws_eip.nat"]},"subnet_id":{"references":["aws_subnet.public_a.id","aws_subnet.public_a"]},"tags":{"constant_value":{"Name":"terraform-nat-gw"}}},"schema_version":0,"depends_on":["aws_internet_gateway.main"]},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"route":{"references":["aws_nat_gateway.main.id","aws_nat_gateway.main"]},"tags":{"constant_value":{"Name":"terraform-private-rtb"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.main.id","aws_internet_gateway.main"]},"tags":{"constant_value":{"Name":"terraform-public-rtb"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table_association.private_a","mode":"managed","type":"aws_route_table_association","name":"private_a","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private_a.id","aws_subnet.private_a"]}},"schema_version":0},{"address":"aws_route_table_association.private_b","mode":"managed","type":"aws_route_table_association","name":"private_b","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private_b.id","aws_subnet.private_b"]}},"schema_version":0},{"address":"aws_route_table_association.private_c","mode":"managed","type":"aws_route_table_association","name":"private_c","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private_c.id","aws_subnet.private_c"]}},"schema_version":0},{"address":"aws_route_table_association.public_a","mode":"managed","type":"aws_route_table_association","name":"public_a","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public_a.id","aws_subnet.public_a"]}},"schema_version":0},{"address":"aws_route_table_association.public_b","mode":"managed","type":"aws_route_table_association","name":"public_b","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public_b.id","aws_subnet.public_b"]}},"schema_version":0},{"address":"aws_route_table_association.public_c","mode":"managed","type":"aws_route_table_association","name":"public_c","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public_c.id","aws_subnet.public_c"]}},"schema_version":0},{"address":"aws_security_group.ping","mode":"managed","type":"aws_security_group","name":"ping","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow icmp for ping"},"name":{"constant_value":"ping"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_security_group.web_server","mode":"managed","type":"aws_security_group","name":"web_server","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow HTTP and SSH for web_server"},"name":{"constant_value":"web-server-sg"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_security_group_rule.egress-all","mode":"managed","type":"aws_security_group_rule","name":"egress-all","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.web_server.id","aws_security_group.web_server"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.http","mode":"managed","type":"aws_security_group_rule","name":"http","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.web_server.id","aws_security_group.web_server"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_security_group_rule.ping","mode":"managed","type":"aws_security_group_rule","name":"ping","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":8},"protocol":{"constant_value":"icmp"},"security_group_id":{"references":["aws_security_group.ping.id","aws_security_group.ping"]},"to_port":{"constant_value":0},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_security_group_rule.ping_egress","mode":"managed","type":"aws_security_group_rule","name":"ping_egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":"-1"},"protocol":{"constant_value":"icmp"},"security_group_id":{"references":["aws_security_group.ping.id","aws_security_group.ping"]},"to_port":{"constant_value":"-1"},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.ssh","mode":"managed","type":"aws_security_group_rule","name":"ssh","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":22},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.web_server.id","aws_security_group.web_server"]},"to_port":{"constant_value":22},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2a"},"cidr_block":{"constant_value":"10.10.11.0/24"},"map_public_ip_on_launch":{"constant_value":false},"tags":{"constant_value":{"Name":"private-subnet-us-west-2a"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2b"},"cidr_block":{"constant_value":"10.10.12.0/24"},"map_public_ip_on_launch":{"constant_value":false},"tags":{"constant_value":{"Name":"private-subnet-us-west-2b"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.private_c","mode":"managed","type":"aws_subnet","name":"private_c","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2c"},"cidr_block":{"constant_value":"10.10.13.0/24"},"map_public_ip_on_launch":{"constant_value":false},"tags":{"constant_value":{"Name":"private-subnet-us-west-2c"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.public_a","mode":"managed","type":"aws_subnet","name":"public_a","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2a"},"cidr_block":{"constant_value":"10.10.1.0/24"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"public-subnet-us-west-2a"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.public_b","mode":"managed","type":"aws_subnet","name":"public_b","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2b"},"cidr_block":{"constant_value":"10.10.2.0/24"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"public-subnet-us-west-2b"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.public_c","mode":"managed","type":"aws_subnet","name":"public_c","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-west-2c"},"cidr_block":{"constant_value":"10.10.3.0/24"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"public-subnet-us-west-2c"}},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.10.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"instance_tenancy":{"constant_value":"default"},"tags":{"constant_value":{"Name":"terraform-vpc"}}},"schema_version":1}]}},"relevant_attributes":[{"resource":"aws_eip.nat","attribute":["id"]},{"resource":"aws_security_group.ping","attribute":["id"]},{"resource":"aws_subnet.private_b","attribute":["id"]},{"resource":"aws_subnet.private_c","attribute":["id"]},{"resource":"aws_security_group.web_server","attribute":["id"]},{"resource":"aws_nat_gateway.main","attribute":["id"]},{"resource":"aws_subnet.public_b","attribute":["id"]},{"resource":"aws_route_table.private","attribute":["id"]},{"resource":"aws_internet_gateway.main","attribute":["id"]},{"resource":"aws_subnet.private_a","attribute":["id"]},{"resource":"aws_subnet.public_c","attribute":["id"]},{"resource":"aws_vpc.main","attribute":["id"]},{"resource":"aws_instance.web_server","attribute":["public_ip"]},{"resource":"aws_subnet.public_a","attribute":["id"]},{"resource":"aws_route_table.public","attribute":["id"]}],"timestamp":"2025-11-12T02:20:34Z","applyable":true,"complete":true,"errored":false}
